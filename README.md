# TOO findexIT Mini CRM

## Requirements

Необходимо реализовать маленький кусочек CRM. Формы:

1. Вход
2. Сотрудники
3. Задачи
4. Отчет

##### Описание

На главной форме можно просмотреть всех сотрудников, добавить сотрудника, отредактировать
профиль сотрудника и удалить сотрудника. Если ввести в поле «Поиск по ФИО» кусочек ФИО, то
таблица отфильтруется по данному фильтру. Кроме этого, по щелчку на кнопку «Задачи» нужно
открыть форму со списком задач выбранного сотрудника, где можно добавить задачу,
отредактировать задачу, удалить задачу.

Отчет должен вывести список задач, срок которых истек, но выполнение не достигло 100%. Кнопка
«Печать» выводит отчет на печать.

##### Примерные описания сущностей.

Сотрудник имеет поля ID, Фио, Должность. Если используется авторизация через Базу данных, у
сотрудника есть поле пароля.
У сотрудника могут быть задачи, задача имеет поля ID, ID сотрудника, название, описание задачи,
дата старта (дата внесения), срок выполнения, процент выполнения.
Язык реализации – C#. Клиентская часть - JavaScript или TypeScript (на выбор).
Фреймворк - ASP.NET Core 7. ORM - EF Core 7 (code first).
БД - MS SQL Server или PostgreSQL (на выбор).
Допускается реализация задач (если возникли затруднения) другими аналогичными стеками.

## Start

1. Клонировать проект
2. Создать базу данных
- Для базы данных используется MS SQL Server
- Изменить строку подключения в appsettings.json
- Были созданы миграции, использовать EF для создания таблиц(через терминал/консоль или через инструменты Visual Studio)
3. Запуск приложения
- dotnet run в папке MiniCRM
- npm start в папке mini-crm-react-app

## About the project

Для реализации backend части приложения, использовалась 3-слойная архитектура:
- Data Access Layer(DAL)
- Business Logic Layer(BLL)
- Web API

Для реализации frontend части приложения, использовался React JS

Уровень работы с БД(DAL) включается в себя:
- Модели для сохранения сущностей в таблицы БД
- Миграции
- Контекст для работы с БД
- Репозитории с базовыми CRUD операциями

репозитории реализованы на основе общего интерфейса

Уровень бизнес логики(BLL) вкючается в себя:
- Модели для клиентсой части
- Сервисы
- Интефейсы для реализации сервисов

Уровень Web API:
- Контроллеры

Разные модели в DAL и BLL были созданы, чтобы не тянуть модели сразу из БД в Web API часть

Также в сервисах реализованы методы преобразования модели из бд в бизнес модель и наоборот

Сервисы в BLL работают на основе репозиториев из DAL

При запуске открывается главная страница со списком всех работников и в верхней части необходимые опции для взаимодействия с работниками:
- Add
- Edit
- Delete
- Tasks
- Report

Чтобы увидить задачи работника, нужно выбрать Tasks, выбрать работника и откроется страница списка задач работника, на которой тоже есть кнопки для взаимодействия с задачи в верхней части страницы

При удалении работника также удаляются все его задачи

## Последние слова перед судом

1) Дизайн не лучший, можно сделать красивее, но знаю основы frontend, и сделал все для взаимодействия

2) Поиск - не смог реализовать, пока не знаю как это сделать

3) Страница входа: сначала думал, создать моделю User, соответсвующие репозитории, сервисы и контроллеры для него. Это было бы как admin панель, только админ мог бы просматривать как выполняются задачи. Добавлялись/Изменялись/Удалялись бы админы через swagger(для начала), но потом заметил, что вход должен быть реализован для работников и у каждого должно быть поле пароля =С Но в таком случае сделал бы доспут по ролям, если Mini CRM используют работники, то у них не должно быть доступа к добавлению/удалению/изменению работников и задач, обычные работники должны видеть только информацию о своих задачах, а удалением/добавлением/изменением должны заниматься работники, у которых роль админы или мэнеджера